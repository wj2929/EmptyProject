<div class="page-container no-padding-bottom">
  <div class="page-header page-header-default  no-margin-bottom" style="border: 1px solid #ddd;border-bottom: 0px;">
    <div class="breadcrumb-line">
      <a class="breadcrumb-elements-toggle">
        <i class="icon-menu-open"></i>
      </a>
      <ul class="breadcrumb breadcrumb-caret position-right">
        <li>
          <a [routerLink]="['/manage']">首页</a>
        </li>
        <li>
          <a [routerLink]="['/manage/testdatainfo']">{{DataInfoName}}管理</a>
        </li>
      </ul>
    </div>
  </div>
</div>

<div class="page-container">
  <div class="page-content">
    <!-- Main sidebar -->
    <div class="sidebar sidebar-opposite sidebar-default" style="padding-right: 20px;padding-left:0px">
      <div class="sidebar-content">
        <!-- Sidebar search -->
        <div class="sidebar-category">
          <div class="category-title">
            <span>搜索</span>
            <ul class="icons-list">
              <li><a href="#" data-action="collapse"></a></li>
            </ul>
          </div>

          <div class="category-content">
            <form action="#" [formGroup]="formModel">
              <div class="has-feedback has-feedback-left form-group">
                <input type="search" class="form-control" placeholder="请输入名称" name="Name" formControlName="Name">
                <div class="form-control-feedback">
                  <i class="icon-search4 text-size-base text-muted"></i>
                </div>
              </div>
              <div class="has-feedback has-feedback-left form-group">
                  <input autocomplete="off" [showDropdowns]="true" type="text" ngxDaterangepickerMd class="form-control daterange-left" alwaysShowCalendars=true
                    [ranges]="ranges" (change)="onLuRuDaterangepickerChange($event)" (click)="changeDaterangepickerWidth()" autoApply=true
                    name="selectdate" placeholder="请输入录入日期">
                  <div class="form-control-feedback">
                    <i class="icon-search4 text-size-base text-muted"></i>
                  </div>
                </div>
              <button type="button" class="btn bg-blue btn-block" (click)="onSearch()">
                <i class="icon-search4 text-size-base position-left"></i>
                搜索{{DataInfoName}}
              </button>
            </form>
          </div>
        </div>
        <!-- /sidebar search -->
      </div>

      <!-- /secondary sidebar -->
    </div>
    <!-- Main content -->
    <div class="content-wrapper">
      <div class="panel panel-white">
        <div class="panel-heading">
          <h6 class="panel-title">管理{{DataInfoName}}</h6>
        </div>

        <div class="panel-toolbar panel-toolbar-inbox">
          <div class="navbar navbar-default">
            <ul class="nav navbar-nav visible-xs-block no-border">
              <li>
                <a class="text-center collapsed" data-toggle="collapse" data-target="#inbox-toolbar-toggle-single">
                  <i class="icon-circle-down2"></i>
                </a>
              </li>
            </ul>

            <div class="navbar-collapse collapse" id="inbox-toolbar-toggle-single">
              <div class="btn-group navbar-btn">
                <button type="button" class="btn btn-default btn-icon btn-checkbox-all">
                  <div class="checker"><span [class]="this.isSelectAll ?'checked' :''"><input type="checkbox"
                        class="styled" (change)="updateAllSelect($event)"></span></div>
                </button>

                <button type="button" class="btn btn-default btn-icon dropdown-toggle" data-toggle="dropdown"
                  aria-expanded="false">
                  <span class="caret"></span>
                </button>

                <ul class="dropdown-menu">
                  <li><a (click)="selectAll(true)">选择所有</a></li>
                  <li class="divider"></li>
                  <li><a (click)="selectAll(false)">清除选择</a></li>
                </ul>
              </div>
              <div class="btn-group navbar-btn">
                <div class="btn-group-btn">
                  <button type="button" class="btn btn-default" (click)="removeDataInfos()"><i
                      class="icon-bin"></i><span class="hidden-xs position-right">删除</span></button>
                  <button type="button" class="btn btn-default dropdown-toggle btn-icon" data-toggle="dropdown"
                    aria-expanded="true">
                    <span class="caret"></span>
                  </button>

                  <ul class="dropdown-menu dropdown-menu-left">
                    <li><a (click)="removeCurrentPageDataInfos()"><i class="icon-bin"></i> <span
                      class="hidden-xs position-right">当前页删除</span></a></li>
                    <li><a (click)="removeAllPageDataInfos()"><i class="icon-bin"></i> <span
                      class="hidden-xs position-right">所有页删除</span></a></li>
                  </ul>

                  <button type="button" class="btn btn-default" (click)="createDataInfo()"><i class=" icon-database-add"></i>
                    <span class="hidden-xs position-right">创建</span></button>
                </div>
                
              </div>


              <div class="navbar-right" style="display:none">
                <p class="navbar-text"><span class="text-semibold">1-50</span> of <span class="text-semibold">528</span>
                </p>

                <div class="btn-group navbar-left navbar-btn">
                  <button type="button" class="btn btn-default btn-icon disabled"><i
                      class="icon-arrow-left12"></i></button>
                  <button type="button" class="btn btn-default btn-icon"><i class="icon-arrow-right13"></i></button>
                </div>
              </div>
            </div>
          </div>
        </div>

        <div class="table-responsive">
          <table class="table table-hover">
            <thead>
              <tr>
                <td class="text-nowrap">选择</td>
                <td class="text-nowrap">名称</td>
                <td class="text-nowrap">test</td>
                <td class="text-nowrap">test2</td>
                <td class="text-nowrap">创建日期</td>
                <!-- <td>扩展信息</td> -->
                <td>管理</td>
              </tr>
            </thead>
            <tbody data-link="row" class="rowlink">
              <tr *ngFor="let item of this.DataInfoPaging.PageListInfos;let idx=index">
                <td class="table-inbox-checkbox rowlink-skip" >
                  <div class="checker"><span
                      [class]="this.selectDataInfoList.indexOf(item) !==-1 ?'checked' :''"><input type="checkbox"
                        class="styled" (change)="updateSelect(item,$event)"></span></div>
                </td>
                <td class="text-nowrap">{{item.Name}}</td>
                <td class="text-nowrap">{{item.Test1 }}</td>
                <td class="text-nowrap">{{item.Test2 }}</td>
                <td class="text-nowrap">{{item.CreateDate.slice(6,-2) | date :'yyyy-MM-dd HH:mm:ss' }}</td>
                <!-- <td class="table_td_overflow" title="{{item.CustomFormSettingDescription}}">
                  <div *ngFor="let childItem of item.CustomFormSetting.CustomFormItemSettings">
                    {{childItem.Name}}:{{childItem.Value}}
                  </div>
                </td> -->
                <td nowrap>
                  <div class="input-group">
                    <div class="input-group-btn">
                      <button type="button" class="btn btn-default" (click)="editDataInfo(item)"><i
                          class="icon-pencil7"></i><span class="hidden-xs position-right">编辑</span></button>
                      <button type="button" class="btn btn-default dropdown-toggle btn-icon" data-toggle="dropdown"
                        aria-expanded="true">
                        <span class="caret"></span>
                      </button>

                      <ul class="dropdown-menu dropdown-menu-left" style="min-width:120px">
                        <li ><a (click)="removeDataInfo(item.Id)"><i
                          class="icon-bin"></i><span class="hidden-xs position-right">删除</span></a></li>
                      </ul>
                    </div>
                  </div>
                </td>
              </tr>
            </tbody>
            <tfoot>
              <tr>
                <td colspan="11" class="Paging text-right">
                  <app-pagination [AllCount]="DataInfoPaginationModel.AllCount"
                    [CurrentPage]="DataInfoPaginationModel.CurrentPage"
                    [PageCount]="DataInfoPaginationModel.PageCount" (pageChanged)="onDataInfoPageChanged($event)">
                  </app-pagination>
                </td>
              </tr>
            </tfoot>
          </table>
        </div>
      </div>
    </div>
    <!-- /main content -->

  </div>
</div>